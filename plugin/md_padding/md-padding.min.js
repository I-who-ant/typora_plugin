var c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var D=c(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});m.isStartCharacter=m.isEndCharacter=m.isWordBoundary=m.isAlphabet=m.isInlineBlank=m.isBlank=m.isFullwidthPunctuation=m.isCJK=m.isNumeric=m.isPunctuationCharacter=m.markdownSpecial=void 0;var Ai=/^[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~]$/,Ni=/^[、，：。？！；：【】（）「」﹁﹂『』《》〈〉“”‘’﹏…—～‧·]$/;m.markdownSpecial=new Set(["*","-","[","]","(",")","<",">",'"',"'","!","=","$"]);function Lt(e){return typeof e!="string"?!1:!!(Ai.exec(e)||Rt(e))}m.isPunctuationCharacter=Lt;function $i(e){return e>="0"&&e<="9"}m.isNumeric=$i;function Ei(e){return e>="\u4E00"&&e<="\u9FFF"||e>="\u3400"&&e<="\u4DBF"||e>="\uF900"&&e<="\uFAFF"}m.isCJK=Ei;function Rt(e){return!!Ni.exec(e)}m.isFullwidthPunctuation=Rt;function Ut(e){return!!/^\s$/.exec(e)}m.isBlank=Ut;function Fi(e){return e===" "||e==="	"}m.isInlineBlank=Fi;function Qi(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}m.isAlphabet=Qi;function Hi(e){return e===void 0||Ut(e)||Lt(e)}m.isWordBoundary=Hi;function Ji(e){return',;:"!'.includes(e)}m.isEndCharacter=Ji;function Ki(e){return'"'.includes(e)}m.isStartCharacter=Ki});var J=c(f=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});f.isBlockCode=f.isReferenceLink=f.isInlineCode=f.isMath=f.isLatin=f.isUnicodeString=f.isRaw=f.isBlank=f.isQuoted=f.isPunctuation=f.isCJK=f.isAlphabetNumeric=f.isDocument=void 0;function zi(e){return e.kind===32}f.isDocument=zi;function Dt(e){return e.kind===4}f.isAlphabetNumeric=Dt;function Wi(e){return e.kind===33554432}f.isCJK=Wi;function Vi(e){return e.kind===2}f.isPunctuation=Vi;function Gi(e){return e.kind===2048}f.isQuoted=Gi;function Zi(e){return e.kind===1}f.isBlank=Zi;function Xi(e){return e.kind===1048576}f.isRaw=Xi;function Tt(e){return e.kind===8}f.isUnicodeString=Tt;function Yi(e){return Tt(e)||Dt(e)}f.isLatin=Yi;function er(e){return e.kind===2097152}f.isMath=er;function tr(e){return e.kind===65536}f.isInlineCode=tr;function ir(e){return e.kind===128}f.isReferenceLink=ir;function rr(e){return e.kind===16}f.isBlockCode=rr});var At=c(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.InlineImage=void 0;var Ke=class{constructor(t,r,a){this.children=t,this.target=r,this.attributes=a,this.kind=262144}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){let t=this.attributes===void 0?"":`{${this.attributes}}`;return`![${this.text()}](${this.target})${t}`}};Z.InlineImage=Ke});var Nt=c(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.ReferenceImage=void 0;var ze=class{constructor(t,r,a){this.children=t,this.target=r,this.attributes=a,this.kind=524288}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){let t=this.attributes===void 0?"":`{${this.attributes}}`;return`![${this.text()}][${this.target}]${t}`}};X.ReferenceImage=ze});var We=c(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.AlphabetNumeric=void 0;var $t=D(),Y=class e{constructor(t){this.children=[],this.kind=4,this.text=t}toMarkdown(){return this.text}static is(t){return typeof t!="string"?!1:(0,$t.isAlphabet)(t)||(0,$t.isNumeric)(t)}static create(t){return t.length>1?new e(t):(e.cache.has(t)||e.cache.set(t,new e(t)),e.cache.get(t))}};ee.AlphabetNumeric=Y;Y.cache=new Map});var Ge=c(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.UnicodeString=void 0;var Ve=class{constructor(t){this.children=[],this.kind=8,this.text=t}toMarkdown(){return this.text}static is(t){if(typeof t!="string")return!1;for(let r=0;r<t.length;r++)if(t.charCodeAt(r)<256)return!1;return!0}};te.UnicodeString=Ve});var A=c(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.Delimited=void 0;var Ze=class{constructor(t,r){this.children=[],this.prefix=t,this.postfix=r}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return this.prefix+this.text()+this.postfix}};ie.Delimited=Ze});var Et=c(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.SquareQuoted=void 0;var nr=A(),Xe=class extends nr.Delimited{constructor(t){super("[","]"),this.kind=4096,this.children=t}};re.SquareQuoted=Xe});var Ft=c(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.Emphasis=void 0;var sr=A(),Ye=class extends sr.Delimited{constructor(t,r="*"){super(r,r),this.children=[],this.kind=32768,this.children=t,this.separator=r}};ne.Emphasis=Ye});var Qt=c(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.Quoted=void 0;var or=A(),et=class extends or.Delimited{constructor(t){super('"','"'),this.kind=2048,this.children=t}};se.Quoted=et});var Ht=c(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.Strong=void 0;var ur=A(),tt=class extends ur.Delimited{constructor(t,r){super(r,r),this.children=[],this.kind=16384,this.children=t,this.separator=r}};oe.Strong=tt});var Jt=c(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.Highlight=void 0;var cr=A(),it=class extends cr.Delimited{constructor(t){super("==","=="),this.children=[],this.kind=16777216,this.children=t}};ue.Highlight=it});var Kt=c(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.Strikethrough=void 0;var ar=A(),rt=class extends ar.Delimited{constructor(t){super("~~","~~"),this.children=[],this.kind=8192,this.children=t}};ce.Strikethrough=rt});var zt=c(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.Document=void 0;var nt=class{constructor(t){this.kind=32,this.isDoc=!0,this.children=t}toMarkdown(){return this.children.map(t=>t.toMarkdown()).join("")}};ae.Document=nt});var Vt=c(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.preOrder=void 0;function Wt(e,t){t(e);for(let r of e.children)Wt(r,t)}le.preOrder=Wt});var st=c(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.CJK=void 0;var lr=D(),de=class e{constructor(t){this.children=[],this.kind=33554432,this.text=t}toMarkdown(){return this.text}static is(t){return typeof t!="string"?!1:(0,lr.isCJK)(t)}static create(t){return t.length>1?new e(t):(e.cache.has(t)||e.cache.set(t,new e(t)),e.cache.get(t))}};he.CJK=de;de.cache=new Map});var Zt=c($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.compactArray=$.compactTree=void 0;var dr=Ge(),hr=We(),N=J(),fr=Vt(),gr=st();function mr(e){return(0,fr.preOrder)(e,t=>Gt(t.children)),e}$.compactTree=mr;function Gt(e){let t=0;for(let r=0;r<e.length;r++){let a=e[r];if(t-1>=0){let i=e[t-1];if((0,N.isUnicodeString)(a)&&(0,N.isUnicodeString)(i)){e[t-1]=new dr.UnicodeString(i.text+a.text);continue}if((0,N.isAlphabetNumeric)(a)&&(0,N.isAlphabetNumeric)(i)){e[t-1]=hr.AlphabetNumeric.create(i.text+a.text);continue}if((0,N.isCJK)(a)&&(0,N.isCJK)(i)){e[t-1]=gr.CJK.create(i.text+a.text);continue}}e[t++]=a}for(;e.length>t;)e.pop()}$.compactArray=Gt});var Xt=c(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.HTMLTag=void 0;var ot=class{constructor(t){this.children=[],this.kind=64,this.text=t}toMarkdown(){return`<${this.text}>`}};fe.HTMLTag=ot});var Yt=c(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.Punctuation=void 0;var B=D(),E=J(),ge=class e{constructor(t,r){this.children=[],this.kind=2,this.char=t,this.raw=r!=null?r:t}needPaddingAfter(t,r){return this.isFullSize()||(0,E.isPunctuation)(t)||(0,E.isAlphabetNumeric)(t)&&(0,B.isNumeric)(t.text[0])&&",.".includes(this.char)||this.char===":"&&(0,E.isAlphabetNumeric)(t)&&(0,B.isNumeric)(t.text[0])&&r&&(0,E.isAlphabetNumeric)(r)&&(0,B.isNumeric)(r.text[r.text.length-1])?!1:(0,B.isEndCharacter)(this.char)?!0:(0,B.isStartCharacter)(this.char)?!1:!!"<>=".includes(this.char)}needPaddingBefore(t,r){return this.isFullSize()||(0,E.isPunctuation)(t)||(0,E.isAlphabetNumeric)(t)&&(0,B.isNumeric)(t.text.slice(-1))&&",.".includes(this.char)?!1:(0,B.isStartCharacter)(this.char)?!0:(0,B.isEndCharacter)(this.char)?!1:!!"<>=".includes(this.char)}isFullSize(){return(0,B.isFullwidthPunctuation)(this.char)}toMarkdown(){return this.raw}static create(t,r=t){return e.cache.has(r)||e.cache.set(r,new e(t,r)),e.cache.get(r)}static is(t){return(0,B.isPunctuationCharacter)(t)}};me.Punctuation=ge;ge.cache=new Map});var ei=c(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.ReferenceLink=void 0;var ut=class{constructor(t,r){this.children=[],this.kind=128,this.children=t,this.target=r}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return`[${this.text()}][${this.target}]`}};pe.ReferenceLink=ut});var ti=c(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.ReferenceDefinition=void 0;var ct=class{constructor(t,r){this.children=[],this.kind=256,this.children=t,this.target=r}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return`[${this.text()}]:${this.target}`}};ke.ReferenceDefinition=ct});var ii=c(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.InlineLink=void 0;var at=class{constructor(t,r){this.children=[],this.kind=512,this.children=t,this.target=r}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return`[${this.text()}](${this.target})`}};_e.InlineLink=at});var ri=c(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.InlineCode=void 0;var lt=class{constructor(t,r){this.children=[],this.kind=65536,this.delimiter=r,this.code=t}toMarkdown(){return this.delimiter+this.code+this.delimiter}};we.InlineCode=lt});var ni=c(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.Math=void 0;var dt=class{constructor(t,r){this.children=[],this.kind=2097152,this.delimiter=r,this.code=t}toMarkdown(){return this.delimiter+this.code+this.delimiter}};be.Math=dt});var si=c(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.BlockCode=void 0;var ht=class{constructor(t,r,a,i=!0,k=!0){this.children=[],this.kind=16,this.delimiter=r,this.lang=t,this.children=a,this.closed=i,this.langClosed=k}getCode(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return this.delimiter+this.lang+(this.langClosed?`
`:"")+this.getCode()+(this.closed?this.delimiter:"")}};Me.BlockCode=ht});var gt=c(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.Blank=void 0;var pr=D(),ft=class{constructor(t){this.children=[],this.kind=1,this.char=t}toMarkdown(){return this.char}static is(t){return typeof t!="string"?!1:(0,pr.isBlank)(t)}};Ie.Blank=ft});var pt=c(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.Raw=void 0;var mt=class{constructor(t){this.children=[],this.kind=1048576,this.content=t}toMarkdown(){return this.content}};Se.Raw=mt});var ui=c(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.OrderedListItem=void 0;var oi=D(),kt=class{constructor(t,r){this.children=[],this.kind=1024,this.prefix=t,this.children=r}toMarkdown(){return this.prefix+this.children.map(t=>t.toMarkdown()).join("")}static isValidPrefix(t){return(0,oi.isNumeric)(t[0])&&t[1]==="."&&(0,oi.isInlineBlank)(t[2])}};Pe.OrderedListItem=kt});var ci=c(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.UnorderedListItem=void 0;var kr=D(),_t=class{constructor(t,r){this.children=[],this.kind=131072,this.prefix=t,this.children=r}toMarkdown(){return this.prefix+this.children.map(t=>t.toMarkdown()).join("")}static isValidPrefix(t){return"-+*".includes(t[0])&&(0,kr.isInlineBlank)(t[1])}};ve.UnorderedListItem=_t});var ai=c(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.Callout=void 0;var wt=class{constructor(t){this.children=[],this.kind=8388608,this.text=t}toMarkdown(){return`[!${this.text}]`}};qe.Callout=wt});var li=c(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.BlockquoteItem=void 0;var bt=class{constructor(t,r){this.children=[],this.kind=4194304,this.prefix=t,this.children=r}toMarkdown(){return this.prefix+this.children.map(t=>t.toMarkdown()).join("")}static isValidPrefix(t){return t[0]===">"}};ye.BlockquoteItem=bt});var Mt=c(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.State=void 0;var _r;(function(e){e[e.LinkText=0]="LinkText",e[e.ReferingUrl=1]="ReferingUrl",e[e.ReferingID=2]="ReferingID",e[e.ReferenceLinkUrl=3]="ReferenceLinkUrl",e[e.ImageText=4]="ImageText",e[e.ImageReferingUrl=5]="ImageReferingUrl",e[e.ImageReferingID=6]="ImageReferingID",e[e.ImageAttributes=7]="ImageAttributes",e[e.HTMLTag=8]="HTMLTag",e[e.Emphasis=9]="Emphasis",e[e.Strong=10]="Strong",e[e.Strikethrough=11]="Strikethrough",e[e.InlineCode=12]="InlineCode",e[e.BlockCodeLang=13]="BlockCodeLang",e[e.Math=14]="Math",e[e.BlockCodeBody=15]="BlockCodeBody",e[e.OrderedListItem=16]="OrderedListItem",e[e.UnorderedListItem=17]="UnorderedListItem",e[e.BlockquoteItem=18]="BlockquoteItem",e[e.CalloutItem=19]="CalloutItem",e[e.Highlight=20]="Highlight",e[e.Quoted=21]="Quoted",e[e.Init=22]="Init"})(_r=K.State||(K.State={}))});var di=c(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.Stack=void 0;var It=class{constructor(){this.data=[]}pop(){return this.data.pop()}top(){return this.data[this.size()-1]}[Symbol.iterator](){return this.data[Symbol.iterator]()}size(){return this.data.length}push(t){this.data.push(t)}};xe.Stack=It});var hi=c(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.Mask=void 0;var St=class{constructor(){this.mask=0,this.counts=Array(32).fill(0)}add(t){for(let r=0,a=1;r<32;r++,a<<=1)t&a&&(this.counts[r]++,this.mask|=a)}remove(t){for(let r=0,a=1;r<32;r++,a<<=1)t&a&&(this.counts[r]--,this.counts[r]===0&&(this.mask&=~a))}};Ce.Mask=St});var fi=c(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.stateMasks=void 0;var b=Mt();Be.stateMasks={[b.State.InlineCode]:-33554448,[b.State.Math]:-33554448,[b.State.BlockCodeBody]:-33554448,[b.State.Emphasis]:-53312208,[b.State.Strong]:-53328592,[b.State.Strikethrough]:-53336784,[b.State.LinkText]:-53344336,[b.State.ReferingUrl]:-33554448,[b.State.ImageText]:-52558544,[b.State.ImageReferingUrl]:-33554448,[b.State.ReferenceLinkUrl]:-33554448,[b.State.HTMLTag]:-33554448,[b.State.ReferingID]:-33554448,[b.State.BlockCodeLang]:-33554448,[b.State.OrderedListItem]:-53344976,[b.State.UnorderedListItem]:-53344976,[b.State.Init]:0}});var Pt=c(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.matchSubstring=void 0;function wr(e,t,r){return e.substr(t,r.length)===r}je.matchSubstring=wr});var gi=c(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.parseCode=void 0;var Q=pt(),vt=Pt(),T=yt("//",["/*","*/"],[['"','"']]),qt=yt("//",["/*","*/"],[['"','"'],["'","'"],["`","`"]]),br=yt("--",["/*","*/"],[['"','"']]),Mr={cpp:T,"c++":T,c:T,java:T,javascript:qt,js:qt,csharp:T,"c#":T,typescript:qt,ts:T,go:T,sql:br,bash:F,shell:F,sh:F,python:F,py:F,ruby:F};function Ir(e,t,r,a){let i=Mr[t];return i?[...i(e,r,a)]:[new Q.Raw(e)]}Oe.parseCode=Ir;function yt(e,t,r){return function*(i,k,v){let d=0,M=0,x=i.length;for(;d<x;){if((0,vt.matchSubstring)(i,d,e)){let S=i.indexOf(`
`,d),P=S===-1?x:S;d+e.length>M&&(yield new Q.Raw(i.slice(M,d+e.length))),yield k(i.slice(d+e.length,P),v),M=d=P;continue}let[C,j]=t;if((0,vt.matchSubstring)(i,d,C)){let S=i.indexOf(j,d+C.length),P=S===-1?x:S;d+C.length>M&&(yield new Q.Raw(i.slice(M,d+C.length))),yield k(i.slice(d+C.length,P),v),M=d=P;continue}for(let[S,P]of r){if(!(0,vt.matchSubstring)(i,d,S))continue;let O=i.indexOf(P,d+S.length);d=O===-1?x:O}d++}M<x&&(yield new Q.Raw(i.slice(M,x)))}}function*F(e,t,r){let a=0,i=0,k=e.length;for(;a<k;)if(e[a]==="#"){let d=e.indexOf(`
`,a),M=d===-1?k:d;a>i&&(yield new Q.Raw(e.slice(i,a+2))),yield t(e.slice(a+2,M),r),i=a=M}else a++;i<k&&(yield new Q.Raw(e.slice(i,k)))}});var qi=c(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.parse=void 0;var Le=D(),Sr=J(),mi=At(),pi=Nt(),ki=We(),Pr=Ge(),H=Et(),_i=Ft(),vr=Qt(),qr=Ht(),yr=Jt(),xr=Kt(),wi=zt(),bi=Zt(),Cr=Xt(),p=Yt(),Br=ei(),Mi=ti(),jr=ii(),Or=ri(),Lr=ni(),xt=si(),R=gt(),Re=pt(),Ue=ui(),De=ci(),Ii=ai(),Te=li(),n=Mt(),Rr=di(),Ur=hi(),Si=fi(),Pi=gi(),z=Pt(),vi=st(),Ct="<!--md-padding-ignore-begin-->",Bt="<!--md-padding-ignore-end-->";function W(e,t){if(t.ignorePatterns.length){let s=t.ignorePatterns.shift(),u=[],g=e.matchAll(s),y=0;for(let I of g){for(let G of W(e.slice(y,I.index),t).children)u.push(G);u.push(new Re.Raw(I[0])),y=I.index+I[0].length}for(let I of W(e.slice(y,e.length),t).children)u.push(I);return(0,bi.compactTree)(new wi.Document(u))}let r=new Rr.Stack,a=new Ur.Mask,i=0,k=!0,v="",d="",M="",x=">",C="**",j="*",S="`",P="```",O="$",L=[],U=[],He,V;for(h(n.State.Init);i<e.length;){let s=r.top().state,u=e[i],g=e.substr(i,2),y=e.substr(i,3);if(!(u===`
`&&Ot()===1)){if(u==="\\"&&Le.markdownSpecial.has(e[i+1]))o(p.Punctuation.create(e[i+1],e.slice(i,i+2))),i+=2;else if(s===n.State.InlineCode&&(0,z.matchSubstring)(e,i,S))o(new Or.InlineCode(_(),S)),i+=S.length;else if(s===n.State.BlockCodeLang&&e[i]===`
`)d=_(),h(n.State.BlockCodeBody),i++;else if(s===n.State.BlockCodeBody&&y===P)o(new xt.BlockCode(d,P,(0,Pi.parseCode)(_(),d,W,t))),i+=3;else if(s===n.State.Math&&(0,z.matchSubstring)(e,i,O))o(new Lr.Math(_(),O)),i+=O.length;else if(s===n.State.ImageAttributes&&u==="}"){let I=_();V!==void 0?(o(new pi.ReferenceImage(U,V,I)),V=void 0):(o(new mi.InlineImage(U,He,I)),He=void 0),i++}else if(s===n.State.ImageReferingID&&u==="]")g==="]{"?(V=_(),h(n.State.ImageAttributes),i+=2):(o(new pi.ReferenceImage(U,_())),i++);else if(s===n.State.ImageReferingUrl&&u===")")g==="){"?(He=_(),h(n.State.ImageAttributes),i+=2):(o(new mi.InlineImage(U,_())),i++);else if(s===n.State.ImageText&&u==="]")U=l(),g==="]["?(i+=2,h(n.State.ImageReferingID)):g==="]("?(i+=2,h(n.State.ImageReferingUrl)):(o(p.Punctuation.create("!"),new H.SquareQuoted(U)),i++);else if(s===n.State.CalloutItem&&u==="]")M=_(),o(new Ii.Callout(M)),i++;else if(s===n.State.ReferingID&&u==="]")o(new Br.ReferenceLink(L,_())),i++;else if(s===n.State.ReferingUrl&&u===")")o(new jr.InlineLink(L,_())),i++;else if(s===n.State.ReferenceLinkUrl&&u===`
`)o(new Mi.ReferenceDefinition(L,_())),o(new R.Blank(u)),i++;else if(s===n.State.LinkText&&u==="]")L=l(),g==="]:"?(i+=2,h(n.State.ReferenceLinkUrl)):g==="]["?(i+=2,h(n.State.ReferingID)):g==="]("?(i+=2,h(n.State.ReferingUrl)):(o(new H.SquareQuoted(L)),i++);else if(s===n.State.HTMLTag&&u===">")o(new Cr.HTMLTag(_())),i++;else if(s===n.State.Emphasis&&u===j&&u==="_"&&(0,Le.isWordBoundary)(e[i+1]))o(new _i.Emphasis(l(),j)),i++;else if(s===n.State.Emphasis&&u===j&&u==="*")o(new _i.Emphasis(l(),j)),i++;else if(s===n.State.Strong&&g===C)o(new qr.Strong(l(),C)),i+=2;else if(s===n.State.Strikethrough&&g==="~~")o(new xr.Strikethrough(l())),i+=2;else if(s===n.State.Highlight&&g==="==")o(new yr.Highlight(l())),i+=2;else if(s===n.State.UnorderedListItem&&u===`
`)o(new De.UnorderedListItem(v,l()),new R.Blank(u)),i++;else if(s===n.State.OrderedListItem&&u===`
`)o(new Ue.OrderedListItem(v,l()),new R.Blank(u)),i++;else if(s===n.State.BlockquoteItem&&u===`
`)o(new Te.BlockquoteItem(x,l()),new R.Blank(u)),i++;else if(s===n.State.Quoted&&u==='"')o(new vr.Quoted(l())),i++;else if(k&&g==="[!"&&s===n.State.BlockquoteItem)h(n.State.CalloutItem),i+=2;else if(u==="["&&w(640))h(n.State.LinkText),i++;else if(g==="!["&&w(786432))h(n.State.ImageText),i+=2;else if(u==="<"&&(0,z.matchSubstring)(e,i,Ct)){let I=e.indexOf(Bt,i+Ct.length);if(I===-1)throw new Error(`unmatched ${Ct} at ${i}`);o(new Re.Raw(e.slice(i,I+Bt.length))),i=I+Bt.length}else if(u==="<"&&w(64))h(n.State.HTMLTag),i++;else if(k&&y==="```")h(n.State.BlockCodeLang),P=y,i+=3;else if(y==="---"&&Ti())h(n.State.BlockCodeLang),P=y,i+=3;else if(g==="``"&&w(65536))S=g,h(n.State.InlineCode),i+=2;else if(u==="`"&&w(65536))S=u,h(n.State.InlineCode),i++;else if(g==="$$"&&w(2097152))O=g,h(n.State.Math),i+=2;else if(u==="$"&&w(2097152))O=u,h(n.State.Math),i++;else if(k&&De.UnorderedListItem.isValidPrefix(g)&&w(131072)){h(n.State.UnorderedListItem),v=g,i+=2;continue}else if(k&&Ue.OrderedListItem.isValidPrefix(y)&&w(1024)){h(n.State.OrderedListItem),v=y,i+=3;continue}else if(k&&Te.BlockquoteItem.isValidPrefix(g)&&w(4194304)){h(n.State.BlockquoteItem),i++;continue}else if(g==="~~"&&w(8192))h(n.State.Strikethrough),i+=2;else if((g==="**"||g==="__")&&w(16384))C=g,i+=2,h(n.State.Strong);else if(g==="=="&&w(16777216))i+=2,h(n.State.Highlight);else if(u==="*"&&w(32768))j=u,i++,h(n.State.Emphasis);else if(u==="_"&&(0,Le.isWordBoundary)(e[i-1])&&w(32768))j=u,i++,h(n.State.Emphasis);else if(u==='"'&&w(2048))h(n.State.Quoted),i++;else if((0,z.matchSubstring)(e,i,"@import")&&w(16)){let I=e.indexOf(`
`,i),G=I===-1?e.length:I;o(new Re.Raw(e.slice(i,G))),i=G}else jt(u);if(u===`
`&&(k=!0),k&&!(0,Le.isBlank)(u)&&(k=!1),i>=e.length){if(Ot()===1)continue;for(;r.size()>1;)Ui()}}}let Je=r.top().state;return Je===n.State.UnorderedListItem?o(new De.UnorderedListItem(v,l()),new R.Blank("")):Je===n.State.OrderedListItem?o(new Ue.OrderedListItem(v,l()),new R.Blank("")):Je===n.State.BlockquoteItem&&o(new Te.BlockquoteItem(x,l()),new R.Blank("")),(0,bi.compactTree)(new wi.Document(l()));function jt(s){Li()||(p.Punctuation.is(s)?(o(p.Punctuation.create(s)),i++):R.Blank.is(s)?(o(new R.Blank(s)),i++):ki.AlphabetNumeric.is(s)?(o(ki.AlphabetNumeric.create(s)),i++):vi.CJK.is(s)?(o(vi.CJK.create(s)),i++):(o(new Pr.UnicodeString(s)),i++))}function Li(){for(let s of t.ignoreWords)if((0,z.matchSubstring)(e,i,s))return o(new Re.Raw(s)),i+=s.length,!0;return!1}function Ot(){for(;;){let s=Ri();if(s===0)return s;if(s===1)return 1}}function Ri(){switch(r.top().state){case n.State.Quoted:o(p.Punctuation.create('"'),...l());break;case n.State.Strikethrough:o(p.Punctuation.create("~"),p.Punctuation.create("~"),...l());break;case n.State.Emphasis:o(p.Punctuation.create(j),...l());break;case n.State.Strong:o(...[...C].map(u=>p.Punctuation.create(u)),...l());break;case n.State.Highlight:o(p.Punctuation.create("="),p.Punctuation.create("="),...l());break;case n.State.InlineCode:o(...[...S].map(u=>p.Punctuation.create(u)),...l());break;case n.State.Math:o(...[...O].map(u=>p.Punctuation.create(u)),...l());break;case n.State.LinkText:o(p.Punctuation.create("["),...l());break;case n.State.ReferingUrl:o(new H.SquareQuoted(L),p.Punctuation.create("("),...l());break;case n.State.ReferingID:o(new H.SquareQuoted(L),p.Punctuation.create("["),...l());break;case n.State.ImageText:o(p.Punctuation.create("!"),p.Punctuation.create("["),...l());break;case n.State.ImageReferingUrl:o(p.Punctuation.create("!"),new H.SquareQuoted(U),p.Punctuation.create("("),...l());break;case n.State.ImageReferingID:o(p.Punctuation.create("!"),new H.SquareQuoted(U),p.Punctuation.create("["),...l());break;case n.State.HTMLTag:let s=r.top().begin;return l(),i=s,jt("<"),1;default:return 0}}function Ui(){switch(r.top().state){case n.State.ReferenceLinkUrl:o(new Mi.ReferenceDefinition(L,_()));break;case n.State.OrderedListItem:o(new Ue.OrderedListItem(v,l()));break;case n.State.UnorderedListItem:o(new De.UnorderedListItem(v,l()));break;case n.State.BlockquoteItem:o(new Te.BlockquoteItem(x,l()));break;case n.State.BlockCodeBody:o(new xt.BlockCode(d,P,(0,Pi.parseCode)(_(),d,W,t),!1));break;case n.State.BlockCodeLang:d=_(),o(new xt.BlockCode(d,P,[],!1,!1));break;case n.State.CalloutItem:M=_(),o(new Ii.Callout(M));break;default:throw new Error(`closing ${r.top().state} is not implemented`)}}function h(s){r.push({state:s,nodes:[],begin:i}),a.add(Si.stateMasks[s])}function o(...s){r.top().nodes.push(...s)}function Di(){if(!r.size())return;let s=r.pop();return a.remove(Si.stateMasks[s.state]),s}function l(){return Di().nodes}function _(){return l().map(s=>s.toMarkdown()).join("")}function w(s){return!(a.mask&s)}function Ti(){if(!w(16))return!1;for(let s of r)for(let u of s.nodes)if(!(0,Sr.isBlank)(u))return!1;return!0}}Ae.parse=W});var yi=c(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.normalize=void 0;function Dr(e={}){return{ignoreWords:new Set(e.ignoreWords),ignorePatterns:(e.ignorePatterns||[]).map(t=>new RegExp(t,"g"))}}Ne.normalize=Dr});var xi=c($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.padBetweenNodes=void 0;var Tr=gt(),q=J();function Ar(e){if(e.length<2)return e;let t=[e[0]];for(let r=1;r<e.length;r++)Nr(e[r-1],e[r],e[r-2],e[r+1])&&t.push(new Tr.Blank(" ")),t.push(e[r]);return t}$e.padBetweenNodes=Ar;function Nr(e,t,r,a){return(0,q.isBlank)(e)||(0,q.isBlank)(t)||(0,q.isRaw)(e)||(0,q.isRaw)(t)||(0,q.isDocument)(e)||(0,q.isDocument)(t)?!1:(0,q.isPunctuation)(e)?e.needPaddingAfter(t,r):(0,q.isPunctuation)(t)?t.needPaddingBefore(e,a):(0,q.isCJK)(e)?!(0,q.isCJK)(t):(0,q.isLatin)(e)?!(0,q.isLatin)(t):!0}});var Bi=c(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.padRecursively=void 0;var $r=xi();function Ci(e){for(let t of e.children)Ci(t);e.children=(0,$r.padBetweenNodes)(e.children)}Ee.padRecursively=Ci});var ji=c(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.padMarkdown=void 0;var Er=qi(),Fr=yi(),Qr=Bi();function Hr(e,t){let r=(0,Fr.normalize)(t),a=(0,Er.parse)(e,r);return(0,Qr.padRecursively)(a),a.toMarkdown()}Fe.padMarkdown=Hr});var Oi=c(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.padMarkdown=void 0;var Jr=ji();Object.defineProperty(Qe,"padMarkdown",{enumerable:!0,get:function(){return Jr.padMarkdown}})});var{padMarkdown:Kr}=Oi();module.exports={padMarkdown:Kr};
