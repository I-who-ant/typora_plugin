var c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var D=c(p=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});p.isStartCharacter=p.isEndCharacter=p.isWordBoundary=p.isAlphabet=p.isInlineBlank=p.isBlank=p.isFullwidthPunctuation=p.isCJK=p.isNumeric=p.isPunctuationCharacter=p.markdownSpecial=void 0;var Ai=/^[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~]$/,Ni=/^[、，：。？！；：【】（）「」﹁﹂『』《》〈〉“”‘’﹏…—～‧·]$/;p.markdownSpecial=new Set(["*","-","[","]","(",")","<",">",'"',"'","!","=","$"]);function Ot(e){return typeof e!="string"?!1:!!(Ai.exec(e)||Rt(e))}p.isPunctuationCharacter=Ot;function $i(e){return e>="0"&&e<="9"}p.isNumeric=$i;function Ei(e){return e>="\u4E00"&&e<="\u9FFF"||e>="\u3400"&&e<="\u4DBF"||e>="\uF900"&&e<="\uFAFF"}p.isCJK=Ei;function Rt(e){return!!Ni.exec(e)}p.isFullwidthPunctuation=Rt;function Lt(e){return!!/^\s$/.exec(e)}p.isBlank=Lt;function Fi(e){return e===" "||e==="	"}p.isInlineBlank=Fi;function Qi(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}p.isAlphabet=Qi;function Hi(e){return e===void 0||Lt(e)||Ot(e)}p.isWordBoundary=Hi;function Ji(e){return',;:"!'.includes(e)}p.isEndCharacter=Ji;function Ki(e){return'"'.includes(e)}p.isStartCharacter=Ki});var J=c(f=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});f.isBlockCode=f.isReferenceLink=f.isInlineCode=f.isMath=f.isLatin=f.isUnicodeString=f.isRaw=f.isBlank=f.isQuoted=f.isPunctuation=f.isCJK=f.isAlphabetNumeric=f.isDocument=void 0;function zi(e){return e.kind===32}f.isDocument=zi;function Dt(e){return e.kind===4}f.isAlphabetNumeric=Dt;function Wi(e){return e.kind===33554432}f.isCJK=Wi;function Vi(e){return e.kind===2}f.isPunctuation=Vi;function Gi(e){return e.kind===2048}f.isQuoted=Gi;function Zi(e){return e.kind===1}f.isBlank=Zi;function Xi(e){return e.kind===1048576}f.isRaw=Xi;function Tt(e){return e.kind===8}f.isUnicodeString=Tt;function Yi(e){return Tt(e)||Dt(e)}f.isLatin=Yi;function er(e){return e.kind===2097152}f.isMath=er;function tr(e){return e.kind===65536}f.isInlineCode=tr;function ir(e){return e.kind===128}f.isReferenceLink=ir;function rr(e){return e.kind===16}f.isBlockCode=rr});var Ut=c(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.InlineImage=void 0;var Fe=class{constructor(t,r,a){this.children=t,this.target=r,this.attributes=a,this.kind=262144}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){let t=this.attributes===void 0?"":`{${this.attributes}}`;return`![${this.text()}](${this.target})${t}`}};G.InlineImage=Fe});var At=c(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.ReferenceImage=void 0;var Qe=class{constructor(t,r,a){this.children=t,this.target=r,this.attributes=a,this.kind=524288}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){let t=this.attributes===void 0?"":`{${this.attributes}}`;return`![${this.text()}][${this.target}]${t}`}};Z.ReferenceImage=Qe});var He=c(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.AlphabetNumeric=void 0;var Nt=D(),X=class e{constructor(t){this.children=[],this.kind=4,this.text=t}toMarkdown(){return this.text}static is(t){return typeof t!="string"?!1:(0,Nt.isAlphabet)(t)||(0,Nt.isNumeric)(t)}static create(t){return t.length>1?new e(t):(e.cache.has(t)||e.cache.set(t,new e(t)),e.cache.get(t))}};Y.AlphabetNumeric=X;X.cache=new Map});var Ke=c(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.UnicodeString=void 0;var Je=class{constructor(t){this.children=[],this.kind=8,this.text=t}toMarkdown(){return this.text}static is(t){if(typeof t!="string")return!1;for(let r=0;r<t.length;r++)if(t.charCodeAt(r)<256)return!1;return!0}};ee.UnicodeString=Je});var U=c(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.Delimited=void 0;var ze=class{constructor(t,r){this.children=[],this.prefix=t,this.postfix=r}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return this.prefix+this.text()+this.postfix}};te.Delimited=ze});var $t=c(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.SquareQuoted=void 0;var nr=U(),We=class extends nr.Delimited{constructor(t){super("[","]"),this.kind=4096,this.children=t}};ie.SquareQuoted=We});var Et=c(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.Emphasis=void 0;var sr=U(),Ve=class extends sr.Delimited{constructor(t,r="*"){super(r,r),this.children=[],this.kind=32768,this.children=t,this.separator=r}};re.Emphasis=Ve});var Ft=c(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.Quoted=void 0;var or=U(),Ge=class extends or.Delimited{constructor(t){super('"','"'),this.kind=2048,this.children=t}};ne.Quoted=Ge});var Qt=c(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.Strong=void 0;var ur=U(),Ze=class extends ur.Delimited{constructor(t,r){super(r,r),this.children=[],this.kind=16384,this.children=t,this.separator=r}};se.Strong=Ze});var Ht=c(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.Highlight=void 0;var cr=U(),Xe=class extends cr.Delimited{constructor(t){super("==","=="),this.children=[],this.kind=16777216,this.children=t}};oe.Highlight=Xe});var Jt=c(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.Strikethrough=void 0;var ar=U(),Ye=class extends ar.Delimited{constructor(t){super("~~","~~"),this.children=[],this.kind=8192,this.children=t}};ue.Strikethrough=Ye});var Kt=c(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.Document=void 0;var et=class{constructor(t){this.kind=32,this.isDoc=!0,this.children=t}toMarkdown(){return this.children.map(t=>t.toMarkdown()).join("")}};ce.Document=et});var Wt=c(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.preOrder=void 0;function zt(e,t){t(e);for(let r of e.children)zt(r,t)}ae.preOrder=zt});var tt=c(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.CJK=void 0;var lr=D(),le=class e{constructor(t){this.children=[],this.kind=33554432,this.text=t}toMarkdown(){return this.text}static is(t){return typeof t!="string"?!1:(0,lr.isCJK)(t)}static create(t){return t.length>1?new e(t):(e.cache.has(t)||e.cache.set(t,new e(t)),e.cache.get(t))}};de.CJK=le;le.cache=new Map});var Gt=c(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.compactArray=N.compactTree=void 0;var dr=Ke(),hr=He(),A=J(),fr=Wt(),gr=tt();function pr(e){return(0,fr.preOrder)(e,t=>Vt(t.children)),e}N.compactTree=pr;function Vt(e){let t=0;for(let r=0;r<e.length;r++){let a=e[r];if(t-1>=0){let i=e[t-1];if((0,A.isUnicodeString)(a)&&(0,A.isUnicodeString)(i)){e[t-1]=new dr.UnicodeString(i.text+a.text);continue}if((0,A.isAlphabetNumeric)(a)&&(0,A.isAlphabetNumeric)(i)){e[t-1]=hr.AlphabetNumeric.create(i.text+a.text);continue}if((0,A.isCJK)(a)&&(0,A.isCJK)(i)){e[t-1]=gr.CJK.create(i.text+a.text);continue}}e[t++]=a}for(;e.length>t;)e.pop()}N.compactArray=Vt});var Zt=c(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.HTMLTag=void 0;var it=class{constructor(t){this.children=[],this.kind=64,this.text=t}toMarkdown(){return`<${this.text}>`}};he.HTMLTag=it});var Xt=c(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.Punctuation=void 0;var C=D(),$=J(),fe=class e{constructor(t,r){this.children=[],this.kind=2,this.char=t,this.raw=r!=null?r:t}needPaddingAfter(t,r){return this.isFullSize()||(0,$.isPunctuation)(t)||(0,$.isAlphabetNumeric)(t)&&(0,C.isNumeric)(t.text[0])&&",.".includes(this.char)||this.char===":"&&(0,$.isAlphabetNumeric)(t)&&(0,C.isNumeric)(t.text[0])&&r&&(0,$.isAlphabetNumeric)(r)&&(0,C.isNumeric)(r.text[r.text.length-1])?!1:(0,C.isEndCharacter)(this.char)?!0:(0,C.isStartCharacter)(this.char)?!1:!!"<>=".includes(this.char)}needPaddingBefore(t,r){return this.isFullSize()||(0,$.isPunctuation)(t)||(0,$.isAlphabetNumeric)(t)&&(0,C.isNumeric)(t.text.slice(-1))&&",.".includes(this.char)?!1:(0,C.isStartCharacter)(this.char)?!0:(0,C.isEndCharacter)(this.char)?!1:!!"<>=".includes(this.char)}isFullSize(){return(0,C.isFullwidthPunctuation)(this.char)}toMarkdown(){return this.raw}static create(t,r=t){return e.cache.has(r)||e.cache.set(r,new e(t,r)),e.cache.get(r)}static is(t){return(0,C.isPunctuationCharacter)(t)}};ge.Punctuation=fe;fe.cache=new Map});var Yt=c(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.ReferenceLink=void 0;var rt=class{constructor(t,r){this.children=[],this.kind=128,this.children=t,this.target=r}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return`[${this.text()}][${this.target}]`}};pe.ReferenceLink=rt});var ei=c(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.ReferenceDefinition=void 0;var nt=class{constructor(t,r){this.children=[],this.kind=256,this.children=t,this.target=r}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return`[${this.text()}]:${this.target}`}};me.ReferenceDefinition=nt});var ti=c(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.InlineLink=void 0;var st=class{constructor(t,r){this.children=[],this.kind=512,this.children=t,this.target=r}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return`[${this.text()}](${this.target})`}};ke.InlineLink=st});var ii=c(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.InlineCode=void 0;var ot=class{constructor(t,r){this.children=[],this.kind=65536,this.delimiter=r,this.code=t}toMarkdown(){return this.delimiter+this.code+this.delimiter}};_e.InlineCode=ot});var ri=c(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.Math=void 0;var ut=class{constructor(t,r){this.children=[],this.kind=2097152,this.delimiter=r,this.code=t}toMarkdown(){return this.delimiter+this.code+this.delimiter}};we.Math=ut});var ni=c(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.BlockCode=void 0;var ct=class{constructor(t,r,a,i=!0,k=!0){this.children=[],this.kind=16,this.delimiter=r,this.lang=t,this.children=a,this.closed=i,this.langClosed=k}getCode(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return this.delimiter+this.lang+(this.langClosed?`
`:"")+this.getCode()+(this.closed?this.delimiter:"")}};be.BlockCode=ct});var lt=c(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.Blank=void 0;var mr=D(),at=class{constructor(t){this.children=[],this.kind=1,this.char=t}toMarkdown(){return this.char}static is(t){return typeof t!="string"?!1:(0,mr.isBlank)(t)}};Me.Blank=at});var ht=c(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.Raw=void 0;var dt=class{constructor(t){this.children=[],this.kind=1048576,this.content=t}toMarkdown(){return this.content}};Se.Raw=dt});var oi=c(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.OrderedListItem=void 0;var si=D(),ft=class{constructor(t,r){this.children=[],this.kind=1024,this.prefix=t,this.children=r}toMarkdown(){return this.prefix+this.children.map(t=>t.toMarkdown()).join("")}static isValidPrefix(t){return(0,si.isNumeric)(t[0])&&t[1]==="."&&(0,si.isInlineBlank)(t[2])}};Ie.OrderedListItem=ft});var ui=c(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.UnorderedListItem=void 0;var kr=D(),gt=class{constructor(t,r){this.children=[],this.kind=131072,this.prefix=t,this.children=r}toMarkdown(){return this.prefix+this.children.map(t=>t.toMarkdown()).join("")}static isValidPrefix(t){return"-+*".includes(t[0])&&(0,kr.isInlineBlank)(t[1])}};Pe.UnorderedListItem=gt});var ci=c(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.Callout=void 0;var pt=class{constructor(t){this.children=[],this.kind=8388608,this.text=t}toMarkdown(){return`[!${this.text}]`}};ve.Callout=pt});var ai=c(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.BlockquoteItem=void 0;var mt=class{constructor(t,r){this.children=[],this.kind=4194304,this.prefix=t,this.children=r}toMarkdown(){return this.prefix+this.children.map(t=>t.toMarkdown()).join("")}static isValidPrefix(t){return t[0]===">"}};ye.BlockquoteItem=mt});var kt=c(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.State=void 0;var li;(function(e){e[e.LinkText=0]="LinkText",e[e.ReferingUrl=1]="ReferingUrl",e[e.ReferingID=2]="ReferingID",e[e.ReferenceLinkUrl=3]="ReferenceLinkUrl",e[e.ImageText=4]="ImageText",e[e.ImageReferingUrl=5]="ImageReferingUrl",e[e.ImageReferingID=6]="ImageReferingID",e[e.ImageAttributes=7]="ImageAttributes",e[e.HTMLTag=8]="HTMLTag",e[e.Emphasis=9]="Emphasis",e[e.Strong=10]="Strong",e[e.Strikethrough=11]="Strikethrough",e[e.InlineCode=12]="InlineCode",e[e.BlockCodeLang=13]="BlockCodeLang",e[e.Math=14]="Math",e[e.BlockCodeBody=15]="BlockCodeBody",e[e.OrderedListItem=16]="OrderedListItem",e[e.UnorderedListItem=17]="UnorderedListItem",e[e.BlockquoteItem=18]="BlockquoteItem",e[e.CalloutItem=19]="CalloutItem",e[e.Highlight=20]="Highlight",e[e.Quoted=21]="Quoted",e[e.Init=22]="Init"})(li||(qe.State=li={}))});var di=c(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.Stack=void 0;var _t=class{constructor(){this.data=[]}pop(){return this.data.pop()}top(){return this.data[this.size()-1]}[Symbol.iterator](){return this.data[Symbol.iterator]()}size(){return this.data.length}push(t){this.data.push(t)}};xe.Stack=_t});var hi=c(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.Mask=void 0;var wt=class{constructor(){this.mask=0,this.counts=Array(32).fill(0)}add(t){for(let r=0,a=1;r<32;r++,a<<=1)t&a&&(this.counts[r]++,this.mask|=a)}remove(t){for(let r=0,a=1;r<32;r++,a<<=1)t&a&&(this.counts[r]--,this.counts[r]===0&&(this.mask&=~a))}};Ce.Mask=wt});var fi=c(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.stateMasks=void 0;var b=kt();Be.stateMasks={[b.State.InlineCode]:-33554448,[b.State.Math]:-33554448,[b.State.BlockCodeBody]:-33554448,[b.State.Emphasis]:-53312208,[b.State.Strong]:-53328592,[b.State.Strikethrough]:-53336784,[b.State.LinkText]:-53344336,[b.State.ReferingUrl]:-33554448,[b.State.ImageText]:-52558544,[b.State.ImageReferingUrl]:-33554448,[b.State.ReferenceLinkUrl]:-33554448,[b.State.HTMLTag]:-33554448,[b.State.ReferingID]:-33554448,[b.State.BlockCodeLang]:-33554448,[b.State.OrderedListItem]:-53344976,[b.State.UnorderedListItem]:-53344976,[b.State.Init]:0}});var bt=c(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.matchSubstring=void 0;function _r(e,t,r){return e.substr(t,r.length)===r}je.matchSubstring=_r});var gi=c(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.parseCode=void 0;var F=ht(),Mt=bt(),T=It("//",["/*","*/"],[['"','"']]),St=It("//",["/*","*/"],[['"','"'],["'","'"],["`","`"]]),wr=It("--",["/*","*/"],[['"','"']]),br={cpp:T,"c++":T,c:T,java:T,javascript:St,js:St,csharp:T,"c#":T,typescript:St,ts:T,go:T,sql:wr,bash:E,shell:E,sh:E,python:E,py:E,ruby:E};function Mr(e,t,r,a){let i=br[t];return i?[...i(e,r,a)]:[new F.Raw(e)]}Oe.parseCode=Mr;function It(e,t,r){return function*(i,k,q){let d=0,M=0,B=i.length;for(;d<B;){if((0,Mt.matchSubstring)(i,d,e)){let I=i.indexOf(`
`,d),P=I===-1?B:I;d+e.length>M&&(yield new F.Raw(i.slice(M,d+e.length))),yield k(i.slice(d+e.length,P),q),M=d=P;continue}let[x,j]=t;if((0,Mt.matchSubstring)(i,d,x)){let I=i.indexOf(j,d+x.length),P=I===-1?B:I;d+x.length>M&&(yield new F.Raw(i.slice(M,d+x.length))),yield k(i.slice(d+x.length,P),q),M=d=P;continue}for(let[I,P]of r){if(!(0,Mt.matchSubstring)(i,d,I))continue;let O=i.indexOf(P,d+I.length);d=O===-1?B:O}d++}M<B&&(yield new F.Raw(i.slice(M,B)))}}function*E(e,t,r){let a=0,i=0,k=e.length;for(;a<k;)if(e[a]==="#"){let d=e.indexOf(`
`,a),M=d===-1?k:d;a>i&&(yield new F.Raw(e.slice(i,a+2))),yield t(e.slice(a+2,M),r),i=a=M}else a++;i<k&&(yield new F.Raw(e.slice(i,k)))}});var yi=c(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.parse=void 0;var Re=D(),Sr=J(),pi=Ut(),mi=At(),ki=He(),Ir=Ke(),Q=$t(),_i=Et(),Pr=Ft(),vr=Qt(),yr=Ht(),qr=Jt(),wi=Kt(),bi=Gt(),xr=Zt(),m=Xt(),Cr=Yt(),Mi=ei(),Br=ti(),jr=ii(),Or=ri(),Pt=ni(),H=lt(),Le=ht(),vt=oi(),yt=ui(),Si=ci(),qt=ai(),n=kt(),Rr=di(),Lr=hi(),Ii=fi(),Pi=gi(),K=bt(),vi=tt(),xt="<!--md-padding-ignore-begin-->",Ct="<!--md-padding-ignore-end-->";function z(e,t){if(t.ignorePatterns.length){let s=t.ignorePatterns.shift(),u=[],g=e.matchAll(s),y=0;for(let S of g){for(let V of z(e.slice(y,S.index),t).children)u.push(V);u.push(new Le.Raw(S[0])),y=S.index+S[0].length}for(let S of z(e.slice(y,e.length),t).children)u.push(S);return(0,bi.compactTree)(new wi.Document(u))}let r=new Rr.Stack,a=new Lr.Mask,i=0,k=!0,q="",d="",M="",B=">",x="**",j="*",I="`",P="```",O="$",R=[],L=[],Ee,W;for(h(n.State.Init);i<e.length;){let s=r.top().state,u=e[i],g=e.substr(i,2),y=e.substr(i,3);if(!(u===`
`&&jt()===1)){if(u==="\\"&&Re.markdownSpecial.has(e[i+1]))o(m.Punctuation.create(e[i+1],e.slice(i,i+2))),i+=2;else if(s===n.State.InlineCode&&(0,K.matchSubstring)(e,i,I))o(new jr.InlineCode(_(),I)),i+=I.length;else if(s===n.State.BlockCodeLang&&e[i]===`
`)d=_(),h(n.State.BlockCodeBody),i++;else if(s===n.State.BlockCodeBody&&y===P)o(new Pt.BlockCode(d,P,(0,Pi.parseCode)(_(),d,z,t))),i+=3;else if(s===n.State.Math&&(0,K.matchSubstring)(e,i,O))o(new Or.Math(_(),O)),i+=O.length;else if(s===n.State.ImageAttributes&&u==="}"){let S=_();W!==void 0?(o(new mi.ReferenceImage(L,W,S)),W=void 0):(o(new pi.InlineImage(L,Ee,S)),Ee=void 0),i++}else if(s===n.State.ImageReferingID&&u==="]")g==="]{"?(W=_(),h(n.State.ImageAttributes),i+=2):(o(new mi.ReferenceImage(L,_())),i++);else if(s===n.State.ImageReferingUrl&&u===")")g==="){"?(Ee=_(),h(n.State.ImageAttributes),i+=2):(o(new pi.InlineImage(L,_())),i++);else if(s===n.State.ImageText&&u==="]")L=l(),g==="]["?(i+=2,h(n.State.ImageReferingID)):g==="]("?(i+=2,h(n.State.ImageReferingUrl)):(o(m.Punctuation.create("!"),new Q.SquareQuoted(L)),i++);else if(s===n.State.CalloutItem&&u==="]")M=_(),o(new Si.Callout(M)),i++;else if(s===n.State.ReferingID&&u==="]")o(new Cr.ReferenceLink(R,_())),i++;else if(s===n.State.ReferingUrl&&u===")")o(new Br.InlineLink(R,_())),i++;else if(s===n.State.ReferenceLinkUrl&&u===`
`)o(new Mi.ReferenceDefinition(R,_())),o(new H.Blank(u)),i++;else if(s===n.State.LinkText&&u==="]")R=l(),g==="]:"?(i+=2,h(n.State.ReferenceLinkUrl)):g==="]["?(i+=2,h(n.State.ReferingID)):g==="]("?(i+=2,h(n.State.ReferingUrl)):(o(new Q.SquareQuoted(R)),i++);else if(s===n.State.HTMLTag&&u===">")o(new xr.HTMLTag(_())),i++;else if(s===n.State.Emphasis&&u===j&&u==="_"&&(0,Re.isWordBoundary)(e[i+1]))o(new _i.Emphasis(l(),j)),i++;else if(s===n.State.Emphasis&&u===j&&u==="*")o(new _i.Emphasis(l(),j)),i++;else if(s===n.State.Strong&&g===x)o(new vr.Strong(l(),x)),i+=2;else if(s===n.State.Strikethrough&&g==="~~")o(new qr.Strikethrough(l())),i+=2;else if(s===n.State.Highlight&&g==="==")o(new yr.Highlight(l())),i+=2;else if(s===n.State.UnorderedListItem&&u===`
`)o(new yt.UnorderedListItem(q,l()),new H.Blank(u)),i++;else if(s===n.State.OrderedListItem&&u===`
`)o(new vt.OrderedListItem(q,l()),new H.Blank(u)),i++;else if(s===n.State.BlockquoteItem&&u===`
`)o(new qt.BlockquoteItem(B,l()),new H.Blank(u)),i++;else if(s===n.State.Quoted&&u==='"')o(new Pr.Quoted(l())),i++;else if(k&&g==="[!"&&s===n.State.BlockquoteItem)h(n.State.CalloutItem),i+=2;else if(u==="["&&w(640))h(n.State.LinkText),i++;else if(g==="!["&&w(786432))h(n.State.ImageText),i+=2;else if(u==="<"&&(0,K.matchSubstring)(e,i,xt)){let S=e.indexOf(Ct,i+xt.length);if(S===-1)throw new Error(`unmatched ${xt} at ${i}`);o(new Le.Raw(e.slice(i,S+Ct.length))),i=S+Ct.length}else if(u==="<"&&w(64))h(n.State.HTMLTag),i++;else if(k&&y==="```")h(n.State.BlockCodeLang),P=y,i+=3;else if(y==="---"&&Ui())h(n.State.BlockCodeLang),P=y,i+=3;else if(g==="``"&&w(65536))I=g,h(n.State.InlineCode),i+=2;else if(u==="`"&&w(65536))I=u,h(n.State.InlineCode),i++;else if(g==="$$"&&w(2097152))O=g,h(n.State.Math),i+=2;else if(u==="$"&&w(2097152))O=u,h(n.State.Math),i++;else if(k&&yt.UnorderedListItem.isValidPrefix(g)&&w(131072)){h(n.State.UnorderedListItem),q=g,i+=2;continue}else if(k&&vt.OrderedListItem.isValidPrefix(y)&&w(1024)){h(n.State.OrderedListItem),q=y,i+=3;continue}else if(k&&qt.BlockquoteItem.isValidPrefix(g)&&w(4194304)){h(n.State.BlockquoteItem),i++;continue}else if(g==="~~"&&w(8192))h(n.State.Strikethrough),i+=2;else if((g==="**"||g==="__")&&w(16384))x=g,i+=2,h(n.State.Strong);else if(g==="=="&&w(16777216))i+=2,h(n.State.Highlight);else if(u==="*"&&w(32768))j=u,i++,h(n.State.Emphasis);else if(u==="_"&&(0,Re.isWordBoundary)(e[i-1])&&w(32768))j=u,i++,h(n.State.Emphasis);else if(u==='"'&&w(2048))h(n.State.Quoted),i++;else if((0,K.matchSubstring)(e,i,"@import")&&w(16)){let S=e.indexOf(`
`,i),V=S===-1?e.length:S;o(new Le.Raw(e.slice(i,V))),i=V}else Bt(u);if(u===`
`&&(k=!0),k&&!(0,Re.isBlank)(u)&&(k=!1),i>=e.length){if(jt()===1)continue;for(;r.size()>1;)Di()}}}return(0,bi.compactTree)(new wi.Document(l()));function Bt(s){Ri()||(m.Punctuation.is(s)?(o(m.Punctuation.create(s)),i++):H.Blank.is(s)?(o(new H.Blank(s)),i++):ki.AlphabetNumeric.is(s)?(o(ki.AlphabetNumeric.create(s)),i++):vi.CJK.is(s)?(o(vi.CJK.create(s)),i++):(o(new Ir.UnicodeString(s)),i++))}function Ri(){for(let s of t.ignoreWords)if((0,K.matchSubstring)(e,i,s))return o(new Le.Raw(s)),i+=s.length,!0;return!1}function jt(){for(;;){let s=Li();if(s===0)return s;if(s===1)return 1}}function Li(){switch(r.top().state){case n.State.Quoted:o(m.Punctuation.create('"'),...l());break;case n.State.Strikethrough:o(m.Punctuation.create("~"),m.Punctuation.create("~"),...l());break;case n.State.Emphasis:o(m.Punctuation.create(j),...l());break;case n.State.Strong:o(...[...x].map(u=>m.Punctuation.create(u)),...l());break;case n.State.Highlight:o(m.Punctuation.create("="),m.Punctuation.create("="),...l());break;case n.State.InlineCode:o(...[...I].map(u=>m.Punctuation.create(u)),...l());break;case n.State.Math:o(...[...O].map(u=>m.Punctuation.create(u)),...l());break;case n.State.LinkText:o(m.Punctuation.create("["),...l());break;case n.State.ReferingUrl:o(new Q.SquareQuoted(R),m.Punctuation.create("("),...l());break;case n.State.ReferingID:o(new Q.SquareQuoted(R),m.Punctuation.create("["),...l());break;case n.State.ImageText:o(m.Punctuation.create("!"),m.Punctuation.create("["),...l());break;case n.State.ImageReferingUrl:o(m.Punctuation.create("!"),new Q.SquareQuoted(L),m.Punctuation.create("("),...l());break;case n.State.ImageReferingID:o(m.Punctuation.create("!"),new Q.SquareQuoted(L),m.Punctuation.create("["),...l());break;case n.State.HTMLTag:let s=r.top().begin;return l(),i=s,Bt("<"),1;default:return 0}}function Di(){switch(r.top().state){case n.State.ReferenceLinkUrl:o(new Mi.ReferenceDefinition(R,_()));break;case n.State.OrderedListItem:o(new vt.OrderedListItem(q,l()));break;case n.State.UnorderedListItem:o(new yt.UnorderedListItem(q,l()));break;case n.State.BlockquoteItem:o(new qt.BlockquoteItem(B,l()));break;case n.State.BlockCodeBody:o(new Pt.BlockCode(d,P,(0,Pi.parseCode)(_(),d,z,t),!1));break;case n.State.BlockCodeLang:d=_(),o(new Pt.BlockCode(d,P,[],!1,!1));break;case n.State.CalloutItem:M=_(),o(new Si.Callout(M));break;default:throw new Error(`closing ${r.top().state} is not implemented`)}}function h(s){r.push({state:s,nodes:[],begin:i}),a.add(Ii.stateMasks[s])}function o(...s){r.top().nodes.push(...s)}function Ti(){if(!r.size())return;let s=r.pop();return a.remove(Ii.stateMasks[s.state]),s}function l(){return Ti().nodes}function _(){return l().map(s=>s.toMarkdown()).join("")}function w(s){return!(a.mask&s)}function Ui(){if(!w(16))return!1;for(let s of r)for(let u of s.nodes)if(!(0,Sr.isBlank)(u))return!1;return!0}}De.parse=z});var qi=c(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.normalize=void 0;function Dr(e={}){return{ignoreWords:new Set(e.ignoreWords),ignorePatterns:(e.ignorePatterns||[]).map(t=>new RegExp(t,"g"))}}Te.normalize=Dr});var xi=c(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.padBetweenNodes=void 0;var Tr=lt(),v=J();function Ur(e){if(e.length<2)return e;let t=[e[0]];for(let r=1;r<e.length;r++)Ar(e[r-1],e[r],e[r-2],e[r+1])&&t.push(new Tr.Blank(" ")),t.push(e[r]);return t}Ue.padBetweenNodes=Ur;function Ar(e,t,r,a){return(0,v.isBlank)(e)||(0,v.isBlank)(t)||(0,v.isRaw)(e)||(0,v.isRaw)(t)||(0,v.isDocument)(e)||(0,v.isDocument)(t)?!1:(0,v.isPunctuation)(e)?e.needPaddingAfter(t,r):(0,v.isPunctuation)(t)?t.needPaddingBefore(e,a):(0,v.isCJK)(e)?!(0,v.isCJK)(t):(0,v.isLatin)(e)?!(0,v.isLatin)(t):!0}});var Bi=c(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.padRecursively=void 0;var Nr=xi();function Ci(e){for(let t of e.children)Ci(t);e.children=(0,Nr.padBetweenNodes)(e.children)}Ae.padRecursively=Ci});var ji=c(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.padMarkdown=void 0;var $r=yi(),Er=qi(),Fr=Bi();function Qr(e,t){let r=(0,Er.normalize)(t),a=(0,$r.parse)(e,r);return(0,Fr.padRecursively)(a),a.toMarkdown()}Ne.padMarkdown=Qr});var Oi=c($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.padMarkdown=void 0;var Hr=ji();Object.defineProperty($e,"padMarkdown",{enumerable:!0,get:function(){return Hr.padMarkdown}})});var{padMarkdown:Jr}=Oi();module.exports={padMarkdown:Jr};
