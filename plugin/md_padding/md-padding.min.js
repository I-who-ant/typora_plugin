var c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var D=c(p=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});p.isStartCharacter=p.isEndCharacter=p.isWordBoundary=p.isAlphabet=p.isInlineBlank=p.isBlank=p.isFullwidthPunctuation=p.isCJK=p.isNumeric=p.isPunctuationCharacter=p.markdownSpecial=void 0;var Ui=/^[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~]$/,Ai=/^[、，：。？！；：【】（）「」﹁﹂『』《》〈〉“”‘’﹏…—～‧·]$/;p.markdownSpecial=new Set(["*","-","[","]","(",")","<",">",'"',"'","!","=","$"]);function Ot(e){return typeof e!="string"?!1:!!(Ui.exec(e)||Rt(e))}p.isPunctuationCharacter=Ot;function Ni(e){return e>="0"&&e<="9"}p.isNumeric=Ni;function $i(e){return e>="\u4E00"&&e<="\u9FFF"||e>="\u3400"&&e<="\u4DBF"||e>="\uF900"&&e<="\uFAFF"}p.isCJK=$i;function Rt(e){return!!Ai.exec(e)}p.isFullwidthPunctuation=Rt;function Lt(e){return!!/^\s$/.exec(e)}p.isBlank=Lt;function Ei(e){return e===" "||e==="	"}p.isInlineBlank=Ei;function Fi(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}p.isAlphabet=Fi;function Qi(e){return e===void 0||Lt(e)||Ot(e)}p.isWordBoundary=Qi;function Hi(e){return',;:"!'.includes(e)}p.isEndCharacter=Hi;function Ji(e){return'"'.includes(e)}p.isStartCharacter=Ji});var J=c(f=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});f.isBlockCode=f.isReferenceLink=f.isInlineCode=f.isMath=f.isLatin=f.isUnicodeString=f.isRaw=f.isBlank=f.isQuoted=f.isPunctuation=f.isCJK=f.isAlphabetNumeric=f.isDocument=void 0;function Ki(e){return e.kind===32}f.isDocument=Ki;function Dt(e){return e.kind===4}f.isAlphabetNumeric=Dt;function zi(e){return e.kind===33554432}f.isCJK=zi;function Wi(e){return e.kind===2}f.isPunctuation=Wi;function Vi(e){return e.kind===2048}f.isQuoted=Vi;function Gi(e){return e.kind===1}f.isBlank=Gi;function Zi(e){return e.kind===1048576}f.isRaw=Zi;function Tt(e){return e.kind===8}f.isUnicodeString=Tt;function Xi(e){return Tt(e)||Dt(e)}f.isLatin=Xi;function Yi(e){return e.kind===2097152}f.isMath=Yi;function er(e){return e.kind===65536}f.isInlineCode=er;function tr(e){return e.kind===128}f.isReferenceLink=tr;function ir(e){return e.kind===16}f.isBlockCode=ir});var Ut=c(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.InlineImage=void 0;var Fe=class{constructor(t,r,a){this.children=t,this.target=r,this.attributes=a,this.kind=262144}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){let t=this.attributes===void 0?"":`{${this.attributes}}`;return`![${this.text()}](${this.target})${t}`}};Z.InlineImage=Fe});var At=c(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.ReferenceImage=void 0;var Qe=class{constructor(t,r,a){this.children=t,this.target=r,this.attributes=a,this.kind=524288}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){let t=this.attributes===void 0?"":`{${this.attributes}}`;return`![${this.text()}][${this.target}]${t}`}};X.ReferenceImage=Qe});var He=c(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.AlphabetNumeric=void 0;var Nt=D(),Y=class e{constructor(t){this.children=[],this.kind=4,this.text=t}toMarkdown(){return this.text}static is(t){return typeof t!="string"?!1:(0,Nt.isAlphabet)(t)||(0,Nt.isNumeric)(t)}static create(t){return t.length>1?new e(t):(e.cache.has(t)||e.cache.set(t,new e(t)),e.cache.get(t))}};ee.AlphabetNumeric=Y;Y.cache=new Map});var Ke=c(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.UnicodeString=void 0;var Je=class{constructor(t){this.children=[],this.kind=8,this.text=t}toMarkdown(){return this.text}static is(t){if(typeof t!="string")return!1;for(let r=0;r<t.length;r++)if(t.charCodeAt(r)<256)return!1;return!0}};te.UnicodeString=Je});var U=c(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.Delimited=void 0;var ze=class{constructor(t,r){this.children=[],this.prefix=t,this.postfix=r}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return this.prefix+this.text()+this.postfix}};ie.Delimited=ze});var $t=c(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.SquareQuoted=void 0;var rr=U(),We=class extends rr.Delimited{constructor(t){super("[","]"),this.kind=4096,this.children=t}};re.SquareQuoted=We});var Et=c(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.Emphasis=void 0;var nr=U(),Ve=class extends nr.Delimited{constructor(t,r="*"){super(r,r),this.children=[],this.kind=32768,this.children=t,this.separator=r}};ne.Emphasis=Ve});var Ft=c(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.Quoted=void 0;var sr=U(),Ge=class extends sr.Delimited{constructor(t){super('"','"'),this.kind=2048,this.children=t}};se.Quoted=Ge});var Qt=c(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.Strong=void 0;var or=U(),Ze=class extends or.Delimited{constructor(t,r){super(r,r),this.children=[],this.kind=16384,this.children=t,this.separator=r}};oe.Strong=Ze});var Ht=c(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.Highlight=void 0;var ur=U(),Xe=class extends ur.Delimited{constructor(t){super("==","=="),this.children=[],this.kind=16777216,this.children=t}};ue.Highlight=Xe});var Jt=c(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.Strikethrough=void 0;var cr=U(),Ye=class extends cr.Delimited{constructor(t){super("~~","~~"),this.children=[],this.kind=8192,this.children=t}};ce.Strikethrough=Ye});var Kt=c(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.Document=void 0;var et=class{constructor(t){this.kind=32,this.isDoc=!0,this.children=t}toMarkdown(){return this.children.map(t=>t.toMarkdown()).join("")}};ae.Document=et});var Wt=c(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.preOrder=void 0;function zt(e,t){t(e);for(let r of e.children)zt(r,t)}le.preOrder=zt});var tt=c(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.CJK=void 0;var ar=D(),de=class e{constructor(t){this.children=[],this.kind=33554432,this.text=t}toMarkdown(){return this.text}static is(t){return typeof t!="string"?!1:(0,ar.isCJK)(t)}static create(t){return t.length>1?new e(t):(e.cache.has(t)||e.cache.set(t,new e(t)),e.cache.get(t))}};he.CJK=de;de.cache=new Map});var Gt=c(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.compactArray=N.compactTree=void 0;var lr=Ke(),dr=He(),A=J(),hr=Wt(),fr=tt();function gr(e){return(0,hr.preOrder)(e,t=>Vt(t.children)),e}N.compactTree=gr;function Vt(e){let t=0;for(let r=0;r<e.length;r++){let a=e[r];if(t-1>=0){let i=e[t-1];if((0,A.isUnicodeString)(a)&&(0,A.isUnicodeString)(i)){e[t-1]=new lr.UnicodeString(i.text+a.text);continue}if((0,A.isAlphabetNumeric)(a)&&(0,A.isAlphabetNumeric)(i)){e[t-1]=dr.AlphabetNumeric.create(i.text+a.text);continue}if((0,A.isCJK)(a)&&(0,A.isCJK)(i)){e[t-1]=fr.CJK.create(i.text+a.text);continue}}e[t++]=a}for(;e.length>t;)e.pop()}N.compactArray=Vt});var Zt=c(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.HTMLTag=void 0;var it=class{constructor(t){this.children=[],this.kind=64,this.text=t}toMarkdown(){return`<${this.text}>`}};fe.HTMLTag=it});var Xt=c(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.Punctuation=void 0;var C=D(),$=J(),ge=class e{constructor(t,r){this.children=[],this.kind=2,this.char=t,this.raw=r!=null?r:t}needPaddingAfter(t,r){return this.isFullSize()||(0,$.isPunctuation)(t)||(0,$.isAlphabetNumeric)(t)&&(0,C.isNumeric)(t.text[0])&&",.".includes(this.char)||this.char===":"&&(0,$.isAlphabetNumeric)(t)&&(0,C.isNumeric)(t.text[0])&&r&&(0,$.isAlphabetNumeric)(r)&&(0,C.isNumeric)(r.text[r.text.length-1])?!1:(0,C.isEndCharacter)(this.char)?!0:(0,C.isStartCharacter)(this.char)?!1:!!"<>=".includes(this.char)}needPaddingBefore(t,r){return this.isFullSize()||(0,$.isPunctuation)(t)||(0,$.isAlphabetNumeric)(t)&&(0,C.isNumeric)(t.text.slice(-1))&&",.".includes(this.char)?!1:(0,C.isStartCharacter)(this.char)?!0:(0,C.isEndCharacter)(this.char)?!1:!!"<>=".includes(this.char)}isFullSize(){return(0,C.isFullwidthPunctuation)(this.char)}toMarkdown(){return this.raw}static create(t,r=t){return e.cache.has(r)||e.cache.set(r,new e(t,r)),e.cache.get(r)}static is(t){return(0,C.isPunctuationCharacter)(t)}};pe.Punctuation=ge;ge.cache=new Map});var Yt=c(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.ReferenceLink=void 0;var rt=class{constructor(t,r){this.children=[],this.kind=128,this.children=t,this.target=r}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return`[${this.text()}][${this.target}]`}};me.ReferenceLink=rt});var ei=c(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.ReferenceDefinition=void 0;var nt=class{constructor(t,r){this.children=[],this.kind=256,this.children=t,this.target=r}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return`[${this.text()}]:${this.target}`}};ke.ReferenceDefinition=nt});var ti=c(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.InlineLink=void 0;var st=class{constructor(t,r){this.children=[],this.kind=512,this.children=t,this.target=r}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return`[${this.text()}](${this.target})`}};_e.InlineLink=st});var ii=c(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.InlineCode=void 0;var ot=class{constructor(t,r){this.children=[],this.kind=65536,this.delimiter=r,this.code=t}toMarkdown(){return this.delimiter+this.code+this.delimiter}};we.InlineCode=ot});var ri=c(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.Math=void 0;var ut=class{constructor(t,r){this.children=[],this.kind=2097152,this.delimiter=r,this.code=t}toMarkdown(){return this.delimiter+this.code+this.delimiter}};be.Math=ut});var ni=c(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.BlockCode=void 0;var ct=class{constructor(t,r,a,i=!0,k=!0){this.children=[],this.kind=16,this.delimiter=r,this.lang=t,this.children=a,this.closed=i,this.langClosed=k}getCode(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return this.delimiter+this.lang+(this.langClosed?`
`:"")+this.getCode()+(this.closed?this.delimiter:"")}};Me.BlockCode=ct});var lt=c(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.Blank=void 0;var pr=D(),at=class{constructor(t){this.children=[],this.kind=1,this.char=t}toMarkdown(){return this.char}static is(t){return typeof t!="string"?!1:(0,pr.isBlank)(t)}};Se.Blank=at});var ht=c(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.Raw=void 0;var dt=class{constructor(t){this.children=[],this.kind=1048576,this.content=t}toMarkdown(){return this.content}};Ie.Raw=dt});var oi=c(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.OrderedListItem=void 0;var si=D(),ft=class{constructor(t,r){this.children=[],this.kind=1024,this.prefix=t,this.children=r}toMarkdown(){return this.prefix+this.children.map(t=>t.toMarkdown()).join("")}static isValidPrefix(t){return(0,si.isNumeric)(t[0])&&t[1]==="."&&(0,si.isInlineBlank)(t[2])}};Pe.OrderedListItem=ft});var ui=c(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.UnorderedListItem=void 0;var mr=D(),gt=class{constructor(t,r){this.children=[],this.kind=131072,this.prefix=t,this.children=r}toMarkdown(){return this.prefix+this.children.map(t=>t.toMarkdown()).join("")}static isValidPrefix(t){return"-+*".includes(t[0])&&(0,mr.isInlineBlank)(t[1])}};ve.UnorderedListItem=gt});var ci=c(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.Callout=void 0;var pt=class{constructor(t){this.children=[],this.kind=8388608,this.text=t}toMarkdown(){return`[!${this.text}]`}};ye.Callout=pt});var ai=c(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.BlockquoteItem=void 0;var mt=class{constructor(t,r){this.children=[],this.kind=4194304,this.prefix=t,this.children=r}toMarkdown(){return this.prefix+this.children.map(t=>t.toMarkdown()).join("")}static isValidPrefix(t){return t[0]===">"}};qe.BlockquoteItem=mt});var kt=c(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.State=void 0;var kr;(function(e){e[e.LinkText=0]="LinkText",e[e.ReferingUrl=1]="ReferingUrl",e[e.ReferingID=2]="ReferingID",e[e.ReferenceLinkUrl=3]="ReferenceLinkUrl",e[e.ImageText=4]="ImageText",e[e.ImageReferingUrl=5]="ImageReferingUrl",e[e.ImageReferingID=6]="ImageReferingID",e[e.ImageAttributes=7]="ImageAttributes",e[e.HTMLTag=8]="HTMLTag",e[e.Emphasis=9]="Emphasis",e[e.Strong=10]="Strong",e[e.Strikethrough=11]="Strikethrough",e[e.InlineCode=12]="InlineCode",e[e.BlockCodeLang=13]="BlockCodeLang",e[e.Math=14]="Math",e[e.BlockCodeBody=15]="BlockCodeBody",e[e.OrderedListItem=16]="OrderedListItem",e[e.UnorderedListItem=17]="UnorderedListItem",e[e.BlockquoteItem=18]="BlockquoteItem",e[e.CalloutItem=19]="CalloutItem",e[e.Highlight=20]="Highlight",e[e.Quoted=21]="Quoted",e[e.Init=22]="Init"})(kr=K.State||(K.State={}))});var li=c(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.Stack=void 0;var _t=class{constructor(){this.data=[]}pop(){return this.data.pop()}top(){return this.data[this.size()-1]}[Symbol.iterator](){return this.data[Symbol.iterator]()}size(){return this.data.length}push(t){this.data.push(t)}};xe.Stack=_t});var di=c(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.Mask=void 0;var wt=class{constructor(){this.mask=0,this.counts=Array(32).fill(0)}add(t){for(let r=0,a=1;r<32;r++,a<<=1)t&a&&(this.counts[r]++,this.mask|=a)}remove(t){for(let r=0,a=1;r<32;r++,a<<=1)t&a&&(this.counts[r]--,this.counts[r]===0&&(this.mask&=~a))}};Ce.Mask=wt});var hi=c(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.stateMasks=void 0;var b=kt();Be.stateMasks={[b.State.InlineCode]:-33554448,[b.State.Math]:-33554448,[b.State.BlockCodeBody]:-33554448,[b.State.Emphasis]:-53312208,[b.State.Strong]:-53328592,[b.State.Strikethrough]:-53336784,[b.State.LinkText]:-53344336,[b.State.ReferingUrl]:-33554448,[b.State.ImageText]:-52558544,[b.State.ImageReferingUrl]:-33554448,[b.State.ReferenceLinkUrl]:-33554448,[b.State.HTMLTag]:-33554448,[b.State.ReferingID]:-33554448,[b.State.BlockCodeLang]:-33554448,[b.State.OrderedListItem]:-53344976,[b.State.UnorderedListItem]:-53344976,[b.State.Init]:0}});var bt=c(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.matchSubstring=void 0;function _r(e,t,r){return e.substr(t,r.length)===r}je.matchSubstring=_r});var fi=c(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.parseCode=void 0;var F=ht(),Mt=bt(),T=It("//",["/*","*/"],[['"','"']]),St=It("//",["/*","*/"],[['"','"'],["'","'"],["`","`"]]),wr=It("--",["/*","*/"],[['"','"']]),br={cpp:T,"c++":T,c:T,java:T,javascript:St,js:St,csharp:T,"c#":T,typescript:St,ts:T,go:T,sql:wr,bash:E,shell:E,sh:E,python:E,py:E,ruby:E};function Mr(e,t,r,a){let i=br[t];return i?[...i(e,r,a)]:[new F.Raw(e)]}Oe.parseCode=Mr;function It(e,t,r){return function*(i,k,q){let d=0,M=0,B=i.length;for(;d<B;){if((0,Mt.matchSubstring)(i,d,e)){let I=i.indexOf(`
`,d),P=I===-1?B:I;d+e.length>M&&(yield new F.Raw(i.slice(M,d+e.length))),yield k(i.slice(d+e.length,P),q),M=d=P;continue}let[x,j]=t;if((0,Mt.matchSubstring)(i,d,x)){let I=i.indexOf(j,d+x.length),P=I===-1?B:I;d+x.length>M&&(yield new F.Raw(i.slice(M,d+x.length))),yield k(i.slice(d+x.length,P),q),M=d=P;continue}for(let[I,P]of r){if(!(0,Mt.matchSubstring)(i,d,I))continue;let O=i.indexOf(P,d+I.length);d=O===-1?B:O}d++}M<B&&(yield new F.Raw(i.slice(M,B)))}}function*E(e,t,r){let a=0,i=0,k=e.length;for(;a<k;)if(e[a]==="#"){let d=e.indexOf(`
`,a),M=d===-1?k:d;a>i&&(yield new F.Raw(e.slice(i,a+2))),yield t(e.slice(a+2,M),r),i=a=M}else a++;i<k&&(yield new F.Raw(e.slice(i,k)))}});var vi=c(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.parse=void 0;var Re=D(),Sr=J(),gi=Ut(),pi=At(),mi=He(),Ir=Ke(),Q=$t(),ki=Et(),Pr=Ft(),vr=Qt(),yr=Ht(),qr=Jt(),_i=Kt(),wi=Gt(),xr=Zt(),m=Xt(),Cr=Yt(),bi=ei(),Br=ti(),jr=ii(),Or=ri(),Pt=ni(),H=lt(),Le=ht(),vt=oi(),yt=ui(),Mi=ci(),qt=ai(),n=kt(),Rr=li(),Lr=di(),Si=hi(),Ii=fi(),z=bt(),Pi=tt(),xt="<!--md-padding-ignore-begin-->",Ct="<!--md-padding-ignore-end-->";function W(e,t){if(t.ignorePatterns.length){let s=t.ignorePatterns.shift(),u=[],g=e.matchAll(s),y=0;for(let S of g){for(let G of W(e.slice(y,S.index),t).children)u.push(G);u.push(new Le.Raw(S[0])),y=S.index+S[0].length}for(let S of W(e.slice(y,e.length),t).children)u.push(S);return(0,wi.compactTree)(new _i.Document(u))}let r=new Rr.Stack,a=new Lr.Mask,i=0,k=!0,q="",d="",M="",B=">",x="**",j="*",I="`",P="```",O="$",R=[],L=[],Ee,V;for(h(n.State.Init);i<e.length;){let s=r.top().state,u=e[i],g=e.substr(i,2),y=e.substr(i,3);if(!(u===`
`&&jt()===1)){if(u==="\\"&&Re.markdownSpecial.has(e[i+1]))o(m.Punctuation.create(e[i+1],e.slice(i,i+2))),i+=2;else if(s===n.State.InlineCode&&(0,z.matchSubstring)(e,i,I))o(new jr.InlineCode(_(),I)),i+=I.length;else if(s===n.State.BlockCodeLang&&e[i]===`
`)d=_(),h(n.State.BlockCodeBody),i++;else if(s===n.State.BlockCodeBody&&y===P)o(new Pt.BlockCode(d,P,(0,Ii.parseCode)(_(),d,W,t))),i+=3;else if(s===n.State.Math&&(0,z.matchSubstring)(e,i,O))o(new Or.Math(_(),O)),i+=O.length;else if(s===n.State.ImageAttributes&&u==="}"){let S=_();V!==void 0?(o(new pi.ReferenceImage(L,V,S)),V=void 0):(o(new gi.InlineImage(L,Ee,S)),Ee=void 0),i++}else if(s===n.State.ImageReferingID&&u==="]")g==="]{"?(V=_(),h(n.State.ImageAttributes),i+=2):(o(new pi.ReferenceImage(L,_())),i++);else if(s===n.State.ImageReferingUrl&&u===")")g==="){"?(Ee=_(),h(n.State.ImageAttributes),i+=2):(o(new gi.InlineImage(L,_())),i++);else if(s===n.State.ImageText&&u==="]")L=l(),g==="]["?(i+=2,h(n.State.ImageReferingID)):g==="]("?(i+=2,h(n.State.ImageReferingUrl)):(o(m.Punctuation.create("!"),new Q.SquareQuoted(L)),i++);else if(s===n.State.CalloutItem&&u==="]")M=_(),o(new Mi.Callout(M)),i++;else if(s===n.State.ReferingID&&u==="]")o(new Cr.ReferenceLink(R,_())),i++;else if(s===n.State.ReferingUrl&&u===")")o(new Br.InlineLink(R,_())),i++;else if(s===n.State.ReferenceLinkUrl&&u===`
`)o(new bi.ReferenceDefinition(R,_())),o(new H.Blank(u)),i++;else if(s===n.State.LinkText&&u==="]")R=l(),g==="]:"?(i+=2,h(n.State.ReferenceLinkUrl)):g==="]["?(i+=2,h(n.State.ReferingID)):g==="]("?(i+=2,h(n.State.ReferingUrl)):(o(new Q.SquareQuoted(R)),i++);else if(s===n.State.HTMLTag&&u===">")o(new xr.HTMLTag(_())),i++;else if(s===n.State.Emphasis&&u===j&&u==="_"&&(0,Re.isWordBoundary)(e[i+1]))o(new ki.Emphasis(l(),j)),i++;else if(s===n.State.Emphasis&&u===j&&u==="*")o(new ki.Emphasis(l(),j)),i++;else if(s===n.State.Strong&&g===x)o(new vr.Strong(l(),x)),i+=2;else if(s===n.State.Strikethrough&&g==="~~")o(new qr.Strikethrough(l())),i+=2;else if(s===n.State.Highlight&&g==="==")o(new yr.Highlight(l())),i+=2;else if(s===n.State.UnorderedListItem&&u===`
`)o(new yt.UnorderedListItem(q,l()),new H.Blank(u)),i++;else if(s===n.State.OrderedListItem&&u===`
`)o(new vt.OrderedListItem(q,l()),new H.Blank(u)),i++;else if(s===n.State.BlockquoteItem&&u===`
`)o(new qt.BlockquoteItem(B,l()),new H.Blank(u)),i++;else if(s===n.State.Quoted&&u==='"')o(new Pr.Quoted(l())),i++;else if(k&&g==="[!"&&s===n.State.BlockquoteItem)h(n.State.CalloutItem),i+=2;else if(u==="["&&w(640))h(n.State.LinkText),i++;else if(g==="!["&&w(786432))h(n.State.ImageText),i+=2;else if(u==="<"&&(0,z.matchSubstring)(e,i,xt)){let S=e.indexOf(Ct,i+xt.length);if(S===-1)throw new Error(`unmatched ${xt} at ${i}`);o(new Le.Raw(e.slice(i,S+Ct.length))),i=S+Ct.length}else if(u==="<"&&w(64))h(n.State.HTMLTag),i++;else if(k&&y==="```")h(n.State.BlockCodeLang),P=y,i+=3;else if(y==="---"&&Ti())h(n.State.BlockCodeLang),P=y,i+=3;else if(g==="``"&&w(65536))I=g,h(n.State.InlineCode),i+=2;else if(u==="`"&&w(65536))I=u,h(n.State.InlineCode),i++;else if(g==="$$"&&w(2097152))O=g,h(n.State.Math),i+=2;else if(u==="$"&&w(2097152))O=u,h(n.State.Math),i++;else if(k&&yt.UnorderedListItem.isValidPrefix(g)&&w(131072)){h(n.State.UnorderedListItem),q=g,i+=2;continue}else if(k&&vt.OrderedListItem.isValidPrefix(y)&&w(1024)){h(n.State.OrderedListItem),q=y,i+=3;continue}else if(k&&qt.BlockquoteItem.isValidPrefix(g)&&w(4194304)){h(n.State.BlockquoteItem),i++;continue}else if(g==="~~"&&w(8192))h(n.State.Strikethrough),i+=2;else if((g==="**"||g==="__")&&w(16384))x=g,i+=2,h(n.State.Strong);else if(g==="=="&&w(16777216))i+=2,h(n.State.Highlight);else if(u==="*"&&w(32768))j=u,i++,h(n.State.Emphasis);else if(u==="_"&&(0,Re.isWordBoundary)(e[i-1])&&w(32768))j=u,i++,h(n.State.Emphasis);else if(u==='"'&&w(2048))h(n.State.Quoted),i++;else if((0,z.matchSubstring)(e,i,"@import")&&w(16)){let S=e.indexOf(`
`,i),G=S===-1?e.length:S;o(new Le.Raw(e.slice(i,G))),i=G}else Bt(u);u===`
`&&(k=!0),k&&!(0,Re.isBlank)(u)&&(k=!1),i>=e.length&&jt()}}for(;r.size()>1;)Li();return(0,wi.compactTree)(new _i.Document(l()));function Bt(s){Oi()||(m.Punctuation.is(s)?(o(m.Punctuation.create(s)),i++):H.Blank.is(s)?(o(new H.Blank(s)),i++):mi.AlphabetNumeric.is(s)?(o(mi.AlphabetNumeric.create(s)),i++):Pi.CJK.is(s)?(o(Pi.CJK.create(s)),i++):(o(new Ir.UnicodeString(s)),i++))}function Oi(){for(let s of t.ignoreWords)if((0,z.matchSubstring)(e,i,s))return o(new Le.Raw(s)),i+=s.length,!0;return!1}function jt(){for(;;){let s=Ri();if(s===0)return s;if(s===1)return 1}}function Ri(){switch(r.top().state){case n.State.Quoted:o(m.Punctuation.create('"'),...l());break;case n.State.Strikethrough:o(m.Punctuation.create("~"),m.Punctuation.create("~"),...l());break;case n.State.Emphasis:o(m.Punctuation.create(j),...l());break;case n.State.Strong:o(...[...x].map(u=>m.Punctuation.create(u)),...l());break;case n.State.Highlight:o(m.Punctuation.create("="),m.Punctuation.create("="),...l());break;case n.State.InlineCode:o(...[...I].map(u=>m.Punctuation.create(u)),...l());break;case n.State.Math:o(...[...O].map(u=>m.Punctuation.create(u)),...l());break;case n.State.LinkText:o(m.Punctuation.create("["),...l());break;case n.State.ReferingUrl:o(new Q.SquareQuoted(R),m.Punctuation.create("("),...l());break;case n.State.ReferingID:o(new Q.SquareQuoted(R),m.Punctuation.create("["),...l());break;case n.State.ImageText:o(m.Punctuation.create("!"),m.Punctuation.create("["),...l());break;case n.State.ImageReferingUrl:o(m.Punctuation.create("!"),new Q.SquareQuoted(L),m.Punctuation.create("("),...l());break;case n.State.ImageReferingID:o(m.Punctuation.create("!"),new Q.SquareQuoted(L),m.Punctuation.create("["),...l());break;case n.State.HTMLTag:let s=r.top().begin;return l(),i=s,Bt("<"),1;default:return 0}}function Li(){switch(r.top().state){case n.State.ReferenceLinkUrl:o(new bi.ReferenceDefinition(R,_()));break;case n.State.OrderedListItem:o(new vt.OrderedListItem(q,l()));break;case n.State.UnorderedListItem:o(new yt.UnorderedListItem(q,l()));break;case n.State.BlockquoteItem:o(new qt.BlockquoteItem(B,l()));break;case n.State.BlockCodeBody:o(new Pt.BlockCode(d,P,(0,Ii.parseCode)(_(),d,W,t),!1));break;case n.State.BlockCodeLang:d=_(),o(new Pt.BlockCode(d,P,[],!1,!1));break;case n.State.CalloutItem:M=_(),o(new Mi.Callout(M));break;default:throw new Error(`closing ${r.top().state} is not implemented`)}}function h(s){r.push({state:s,nodes:[],begin:i}),a.add(Si.stateMasks[s])}function o(...s){r.top().nodes.push(...s)}function Di(){if(!r.size())return;let s=r.pop();return a.remove(Si.stateMasks[s.state]),s}function l(){return Di().nodes}function _(){return l().map(s=>s.toMarkdown()).join("")}function w(s){return!(a.mask&s)}function Ti(){if(!w(16))return!1;for(let s of r)for(let u of s.nodes)if(!(0,Sr.isBlank)(u))return!1;return!0}}De.parse=W});var yi=c(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.normalize=void 0;function Dr(e={}){return{ignoreWords:new Set(e.ignoreWords),ignorePatterns:(e.ignorePatterns||[]).map(t=>new RegExp(t,"g"))}}Te.normalize=Dr});var qi=c(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.padBetweenNodes=void 0;var Tr=lt(),v=J();function Ur(e){if(e.length<2)return e;let t=[e[0]];for(let r=1;r<e.length;r++)Ar(e[r-1],e[r],e[r-2],e[r+1])&&t.push(new Tr.Blank(" ")),t.push(e[r]);return t}Ue.padBetweenNodes=Ur;function Ar(e,t,r,a){return(0,v.isBlank)(e)||(0,v.isBlank)(t)||(0,v.isRaw)(e)||(0,v.isRaw)(t)||(0,v.isDocument)(e)||(0,v.isDocument)(t)?!1:(0,v.isPunctuation)(e)?e.needPaddingAfter(t,r):(0,v.isPunctuation)(t)?t.needPaddingBefore(e,a):(0,v.isCJK)(e)?!(0,v.isCJK)(t):(0,v.isLatin)(e)?!(0,v.isLatin)(t):!0}});var Ci=c(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.padRecursively=void 0;var Nr=qi();function xi(e){for(let t of e.children)xi(t);e.children=(0,Nr.padBetweenNodes)(e.children)}Ae.padRecursively=xi});var Bi=c(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.padMarkdown=void 0;var $r=vi(),Er=yi(),Fr=Ci();function Qr(e,t){let r=(0,Er.normalize)(t),a=(0,$r.parse)(e,r);return(0,Fr.padRecursively)(a),a.toMarkdown()}Ne.padMarkdown=Qr});var ji=c($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.padMarkdown=void 0;var Hr=Bi();Object.defineProperty($e,"padMarkdown",{enumerable:!0,get:function(){return Hr.padMarkdown}})});var{padMarkdown:Jr}=ji();module.exports={padMarkdown:Jr};
